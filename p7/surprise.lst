     1                                  ; Adrian Faircloth
     2                                  ; Project 7: Surprise
     3                                  ; Decodes a message of encoded ascii character and prints it
     4                                  ; 10/29/2020
     5                                  
     6                                  SECTION .data
     7                                  ; define data/variables here.  Think DB, DW, DD, DQ
     8 00000000 2E2F75313233793536-     surprise:  db  46, 47, 117, 49, 50, 51, 121, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 122, 123, 124, 88, 89, 90, 91, 92, 93, 94,
     9 00000009 3738393A3B3C3D3E3F-
    10 00000012 404142434445464748-
    11 0000001B 494A4B4C4D4E4F5051-
    12 00000024 5253547A7B7C58595A-
    13 0000002D 5B5C5D5E5F60616263-
    14 00000036 6465666768696A6B6C-
    15 0000003F 6D6E6F707172737475-
    16 00000048 767778797A7B7C7D2E-
    17 00000051 2F3076327834353637-
    18 0000005A 38393A3B3C3D3E3F40-
    19 00000063 414243444546474849-
    20 0000006C 4A4B4C4D4E4F505152-
    21 00000075 53547A7B7C58595A5B-
    22 0000007E 5C5D5E5F6061626364-
    23 00000087 65666768696A6B6C6D-
    24 00000090 6E6F70717273747576-
    25 00000099 7778797A7B7C7D2E74-
    26 000000A2 75765778797A363738-
    27 000000AB 393A3B3C3D3E3F4041-
    28 000000B4 42434445464748494A-
    29 000000BD 4B4C4D4E4F50515253-
    30 000000C6 54556F5758595A5B5C-
    31 000000CF 5D5E5F606162636465-
    32 000000D8 666768696A6B6C6D6E-
    33 000000E1 6F7071727374757677-
    34 000000EA 78797A7B7C7D2E2F30-
    35 000000F3 763278343536373839-
    36 000000FC 3A3B3C3D3E3F404142-
    37 00000105 434445464748494A4B-
    38 0000010E 4C4D4E4F5051525354-
    39 00000117 6E6A7058595A5B5C5D-
    40 00000120 5E5F60616263646566-
    41 00000129 6768696A6B6C6D6E6F-
    42 00000132 707172737475767778-
    43 0000013B 797A7B7C7D2E2F7531-
    44 00000144 32337935363738393A-
    45 0000014D 3B3C3D3E3F40414243-
    46 00000156 4445464748494A4B4C-
    47 0000015F 4D4E4F505152536D79-
    48 00000168 6F8271595A5B5C5D5E-
    49 00000171 5F6061626364656667-
    50 0000017A 68696A6B6C6D6E6F70-
    51 00000183 717273747576777879-
    52 0000018C 7A7B7C7D2E2F303132-
    53 00000195 333435363738393A3B-
    54 0000019E 3C3D3E3F4041424344-
    55 000001A7 45464748494A4B4C4D-
    56 000001B0 4E4F5051526C6D6E7F-
    57 000001B9 7077725A5B5C5D5E5F-
    58 000001C2 606162636465666768-
    59 000001CB 696A6B6C6D6E6F7071-
    60 000001D4 72737475767778797A-
    61 000001DD 7B7C7D2E2F30313233-
    62 000001E6 3435363738393A3B3C-
    63 000001EF 3D3E3F404142434445-
    64 000001F8 464748494A4B4C4D4E-
    65 00000201 4F50516B6C7D6E6F6B-
    66 0000020A 7C72735B5C5D5E5F60-
    67 00000213 616263646566676869-
    68 0000021C 6A6B6C6D6E6F707172-
    69 00000225 737475767778797A7B-
    70 0000022E 7C7D2E2F3031323334-
    71 00000237 35363738393A3B3C3D-
    72 00000240 3E3F40414243444546-
    73 00000249 4748494A4B4C4D4E4F-
    74 00000252 506A6B7E7F6E6F706C-
    75 0000025B 7273745C5D5E5F6061-
    76 00000264 62636465666768696A-
    77 0000026D 6B6C6D6E6F70717273-
    78 00000276 7475767778797A7B7C-
    79 0000027F 7D2E2F303132333435-
    80 00000288 363738393A3B3C3D3E-
    81 00000291 3F4041424344454647-
    82 0000029A 48494A4B4C4D4E4F69-
    83 000002A3 706B6C6D7E6F707184-
    84 000002AC 7E74755D5E5F606162-
    85 000002B5 636465666768696A6B-
    86 000002BE 6C6D6E6F7071727374-
    87 000002C7 75767778797A7B7C7D-
    88 000002D0 2E2F30313233343536-
    89 000002D9 3738393A3B3C3D3E3F-
    90 000002E2 404142434445464748-
    91 000002EB 494A4B4C4D4E68696A-
    92 000002F4 6B726D6E6F706C7273-
    93 000002FD 8475765E5F60616263-
    94 00000306 6465666768696A6B6C-
    95 0000030F 6D6E6F707172737475-
    96 00000318 767778797A7B7C7D2E-
    97 00000321 2F3031323334353637-
    98 0000032A 38393A3B3C3D3E3F40-
    99 00000333 414243444546474849-
   100 0000033C 4A4B4C4D676369756B-
   101 00000345 6C6D6E6F7071727384-
   102 0000034E 7576775F6061626364-
   103 00000357 65666768696A6B6C6D-
   104 00000360 6E6F70717273747576-
   105 00000369 7778797A7B7C7D2E2F-
   106 00000372 303132333435363738-
   107 0000037B 393A3B3C3D3E3F4041-
   108 00000384 42434445464748494A-
   109 0000038D 4B4C666768696A6B6C-
   110 00000396 6D6E6F708384737475-
   111 0000039F 767778606162636465-
   112 000003A8 666768696A6B6C6D6E-
   113 000003B1 6F7071727374757677-
   114 000003BA 78797A7B7C7D2E2F30-
   115 000003C3 313233343536373839-
   116 000003CC 3A3B3C3D3E3F404142-
   117 000003D5 434445464748494A4B-
   118 000003DE 6578676869656B6C6D-
   119 000003E7 796F706C7273847576-
   120 000003F0 7D7879616263646566-
   121 000003F9 6768696A6B6C6D6E6F-
   122 00000402 707172737475767778-
   123 0000040B 797A7B7C7D2E2F3031-
   124 00000414 32333435363738393A-
   125 0000041D 3B3C3D3E3F40414243-
   126 00000426 4445464748494A6465-
   127 0000042F 667768696A7D6C6D6E-
   128 00000438 7F7071727374758177-
   129 00000441 78747A626364656667-
   130 0000044A 68696A6B6C6D6E6F70-
   131 00000453 717273747576777879-
   132 0000045C 7A7B7C7D2E2F303132-
   133 00000465 333435363738393A3B-
   134 0000046E 3C3D3E3F4041424344-
   135 00000477 4546474849636A6566-
   136 00000480 676E696A6B6C6D6E6F-
   137 00000489 707172737A75767778-
   138 00000492 747A7B636465666768-
   139 0000049B 696A6B6C6D6E6F7071-
   140 000004A4 72737475767778797A-
   141 000004AD 7B7C7D2E2F30313233-
   142 000004B6 3435363738393A3B3C-
   143 000004BF 3D3E3F404142434445-
   144 000004C8 464748626364656672-
   145 000004D1 68696A6B6C6D7E6F70-
   146 000004DA 716D7374758677788B-
   147 000004E3 7A7B7C646566676869-
   148 000004EC 6A6B6C6D6E6F707172-
   149 000004F5 737475767778797A7B-
   150 000004FE 7C7D2E2F3031323334-
   151 00000507 35363738393A3B3C3D-
   152 00000510 3E3F40414243444546-
   153 00000519 476162636460667968-
   154 00000522 696A666C6D6E6F8283-
   155 0000052B 72737475767778797A-
   156 00000534 817C7D65666768696A-
   157 0000053D 6B6C6D6E6F70717273-
   158 00000546 7475767778797A7B7C-
   159 0000054F 7D2E2F303132333435-
   160 00000558 363738393A3B3C3D3E-
   161 00000561 3F4041424344454660-
   162 0000056A 616263746066676869-
   163 00000573 6A6B6C686E6F707C72-
   164 0000057C 737475767788797A7B-
   165 00000585 7C7D7E666768696A6B-
   166 0000058E 6C6D6E6F7071727374-
   167 00000597 75767778797A7B7C7D-
   168 000005A0 2E2F30313233343536-
   169 000005A9 3738393A3B3C3D3E3F-
   170 000005B2 4041424344455F6061-
   171 000005BB 6263646B666768696A-
   172 000005C4 716C6D6E6F70717273-
   173 000005CD 747B76777879857B7C-
   174 000005D6 7D7E7F6768696A6B6C-
   175 000005DF 6D6E6F707172737475-
   176 000005E8 767778797A7B7C7D2E-
   177 000005F1 2F3031323334353637-
   178 000005FA 38393A3B3C3D3E3F40-
   179 00000603 414243445E5F606162-
   180 0000060C 696465667968697A6B-
   181 00000615 776D6E6F706C727374-
   182 0000061E 7576778A797A7B7C7D-
   183 00000627 7E7F8068696A6B6C6D-
   184 00000630 6E6F70717273747576-
   185 00000639 7778797A7B7C7D2E2F-
   186 00000642 303132333435363738-
   187 0000064B 393A3B3C3D3E3F4041-
   188 00000654 42435D5E5F60716263-
   189 0000065D 7665666778696A6B6C-
   190 00000666 6D6E6F708372738475-
   191 0000066F 7677788B7A7B777D7E-
   192 00000678 858081696A6B6C6D6E-
   193 00000681 6F7071727374757677-
   194 0000068A 78797A7B7C7D2E2F30-
   195 00000693 313233343536373839-
   196 0000069C 3A3B3C3D3E3F404142-
   197 000006A5 5C5D595F7061626364-
   198 000006AE 656667686F6A6B6C68-
   199 000006B7 6E6F70718273747576-
   200 000006C0 727879857B7C837E7F-
   201 000006C9 8B81826A6B6C6D6E6F-
   202 000006D2 707172737475767778-
   203 000006DB 797A7B7C7D2E2F3031-
   204 000006E4 32333435363738393A-
   205 000006ED 3B3C3D3E3F40414243-
   206 000006F6 4445464748494A4B4C-
   207 000006FF 4D4E4F505152537A7B-
   208 00000708 7C5758595A5B5C5D5E-
   209 00000711 5F6061626364656667-
   210 0000071A 68696A6B6C6D6E6F70-
   211 00000723 717273747576777879-
   212 0000072C 7A7B7C7D2E2F303132-
   213 00000735 333435363738393A3B-
   214 0000073E 3C3D3E3F4041424344-
   215 00000747 45464748494A4B4C4D-
   216 00000750 4E4F505152537A7B7C-
   217 00000759 5758595A5B5C5D5E5F-
   218 00000762 606162636465666768-
   219 0000076B 696A6B6C6D6E6F7071-
   220 00000774 72737475767778797A-
   221 0000077D 7B7C7D             
   222                                  surLen: EQU ($ - surprise) ; length of surprise message 
   223 00000780 00000000                rowCount: dd	0  ; variable for storing row number when looping
   224 00000784 50000000                colCount: dd	80 ; variable for counting column number of each character
   225 00000788 0A                      nextLine: db	10 ; used for moving cursor to next line during printing
   226 00000789 [00000000]              lineStart: dd	surprise ; tracks starting address for each line printed
   227                                  SECTION .bss
   228                                  ; define uninitialized data here
   229                                  
   230                                  SECTION .text
   231                                  global _main
   232                                  _main:
   233 00000000 B918000000              	mov	ecx, 24 ; puts number of rows into ecx for looping
   234 00000005 31C0                    	xor	eax, eax ; zeroing registers
   235 00000007 31DB                    	xor	ebx, ebx
   236                                  rowLoop:
   237 00000009 890D[80070000]          	mov	[rowCount], ecx ; storing number of remaining rows
   238 0000000F B950000000              	mov	ecx, 80	 ; puts number of cols into ecx for loop
   239                                  colLoop:
   240 00000014 290D[84070000]          	sub	[colCount], ecx ; subtracting column count from 80 to get current column
   241 0000001A 8B1D[84070000]          	mov	ebx, [colCount] ; moving current column number into ebx
   242 00000020 010D[84070000]          	add	[colCount], ecx ; resetting colCount variable to 80
   243 00000026 2998[00000000]          	sub	[surprise+eax], ebx ; subtracting column number from ascii char code
   244 0000002C 40                      	inc	eax ; increasing eax so line above points to next value in surprise
   245 0000002D E2E5                    loop colLoop
   246                                  	
   247 0000002F 60                      	pusha ; storing register values
   248                                  	; printing each line of surprise
   249 00000030 B804000000              	mov	eax, 4 
   250 00000035 BB01000000              	mov	ebx, 1
   251 0000003A 8B0D[89070000]          	mov	ecx, [lineStart] ; using variable holding start address for next line
   252 00000040 BA50000000              	mov	edx, 80 ; printing 80 characters per line
   253 00000045 CD80                    	int	80h
   254                                  	; moving cursor to next line
   255 00000047 B804000000              	mov	eax, 4
   256 0000004C BB01000000              	mov	ebx, 1
   257 00000051 B9[88070000]            	mov	ecx, nextLine
   258 00000056 BA01000000              	mov	edx, 1
   259 0000005B CD80                    	int	80h
   260 0000005D 61                      	popa ; restoring saved register values
   261 0000005E 8B0D[80070000]          	mov	ecx, [rowCount] ; restoring saved row count to ecx for loop
   262 00000064 8305[89070000]50        	add	DWORD[lineStart], 80 ; adding number of chars printed to start address variable
   263 0000006B E29C                    loop rowLoop
   264                                  
   265                                  
   266                                  ;normal termination code
   267 0000006D B801000000              mov eax, 1
   268 00000072 BB00000000              mov ebx, 0
   269 00000077 CD80                    int 80h
   270                                              
